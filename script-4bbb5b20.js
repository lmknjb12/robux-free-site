$(document).ready(function(){function isLoggedIn(){return $("meta[name=user]").attr("content")!="";}
function getCookie(name){var match=document.cookie.match(new RegExp('(^| )'+name+'=([^;]+)'));if(match)return match[2];}
function prettyPercent(percent){return String(percent*100)+"%";}
function addSpinner(id){setTimeout(()=>{$(id).prop("disabled",true);$(id).append(' <span class=\"spinner-border spinner-border-lg \">');},100)}
function removeSpinner(id){$(id).prop("disabled",false);$(id).find(".spinner-border").remove();}
$("#submitButton").click(()=>{setTimeout(()=>{$("#submitButton").prop("disabled",true);$("#submitButton").prepend('<span class=\"spinner-border spinner-border-lg \">');$("#registerLogo").remove();},100)});var discordResult=$("#discordResult").val()
var discordHref=$("#discordHref");if(discordResult=="false"){discordHref.click(()=>{Swal.fire({icon:'error',title:'Not enough earned!',text:'Get access to the Discord when you hit $100 in revenue!',})});}else{discordHref.attr("href",discordResult)}
if($("#cookieButton").length){$("#cookieButton").click(()=>{$("#userpassForm").collapse("hide");$("#addcookiebutton").show();});$("#userpassButton").click(()=>{removeSpinner("#captchaLogin");$("#cookieForm").collapse("hide");$("#loginandcaptcha").show();$("#twofactor").hide();$("#login").show();$("#captchaLogin").show();$("#addcookiebutton").hide();});}
var username;var password;if($("#captchaLogin").length){$("#captchaLogin").click(()=>{username=$("#username").val();password=$("#password").val();console.log("fucked up");addSpinner("#captchaLogin");captchaLogin();});}
function twofactorLogin(userID,ticket,mediaType,code){console.log("lmao");var code=$("#twofactorCode").val();var data={userID:userID,ticket:ticket,mediaType:mediaType,code:code,}
$.ajax({url:"/ajax/twofactorlogin",type:"POST",data:data,success:function(data){if(data.Success==false){console.log(data);console.log("FAILED, RESTARTING...")
if(data.Error=="Invalid code, try again..."){Swal.fire({title:"Invalid code!",text:"The two step verification challenge code is invalid.",type:"error"}).then(function(){if(result.isConfirmed){setTimeout(()=>{window.location="/reseller/groupcookie/new";},500);}});}}else{console.log("SUCCESS");console.log(data);if(data.Data=="Successfully added cookie!"){Swal.fire({title:"Account added!",text:"Account has been added successfully!",type:"success"}).then(function(result){if(result.isConfirmed){setTimeout(()=>{window.location="/reseller/groupcookies";},500);}});}}}});}
var blob;var token;var blobUnencrypted;var captchaId;function captchaLogin(){$.ajax({url:"/ajax/cookielogin",type:"POST",data:{username:username,password:password,type:"preauth"},success:function(data){if(data.Success==false){console.log(data);console.log("FAILED, RESTARTING...")}else{$("#login").hide()
$("#captchaLogin").hide()
console.log(data);blob=data.Data.blob.toString();blobUnencrypted=data.Data.blobUnencrypted.toString();captchaId=data.Data.captchaId.toString();$("#fc-iframe").attr("src","https://bloxflip.com/arkose_captcha2.html?blob="+encodeURIComponent(blob)+"&innerWidth="+window.innerWidth
+"&innerHeight="+window.innerHeight
+"&outerWidth="+window.outerWidth
+"&outerHeight="+window.outerHeight);$("#fc-iframe").show();}}});};function captchaLoginFinal(){var wew={username:username,password:password,type:"auth",blob:blob,blobUnencrypted:blobUnencrypted,captchaId:captchaId,token:token};console.log(wew);$.ajax({url:"/ajax/cookielogin",type:"POST",data:wew,success:function(data){if(data.Success==false){console.log(data);console.log("FAILED, RESTARTING...")
if(data.Error=="Incorrect username/password combination, try again..."){Swal.fire({title:"Incorrect username/password combination, try again...",text:"",type:"error"}).then((result)=>{if(result.isConfirmed){window.location="/reseller/groupcookie/new"}});}}else if(data.Data=="Successfully added cookie!"){console.log(data);if(data.Data=="Successfully added cookie!"){console.log("SUCCESS");Swal.fire({title:"Account added!",text:"Account has been added successfully!",type:"success"}).then(function(result){if(result.isConfirmed){setTimeout(()=>{window.location="/reseller/groupcookies";},500);}});}}else{$("#loginandcaptcha").hide();$("#twofactor").show();$("#twofactorLogin").click(()=>{addSpinner("#twofactorLogin");twofactorLogin(data.Data.userID,data.Data.ticket,data.Data.mediaType,$("#twofactor").val());});}}});};window.addEventListener("message",function(event){var arkoseEvent=JSON.parse(event.data);if(arkoseEvent.eventId.includes("challenge-complete")){token=arkoseEvent.payload.sessionToken;captchaLoginFinal()
$("#fc-iframe").hide();}});$("#requireOffer").change(function(){if($("#requireOffer").is(":checked")){$("#OffersRequired").show();$("#OfferTimeFrame").show();}else{$("#OffersRequired").hide();$("#OfferTimeFrame").hide();}});if($("#weekly-chart-statistics").length){var ctx=document.getElementById("weekly-chart-statistics").getContext("2d");var data=$("#weekly-chart-statistics").data("chart");console.log(data);new Chart(ctx,{type:"bar",data:{labels:data.dates,datasets:[{label:(data.total-0)+' Total',data:data.revenue,backgroundColor:['rgba(53,121,246)','rgba(53,121,246)','rgba(53,121,246)','rgba(53,121,246)','rgba(53,121,246)','rgba(53,121,246)','rgba(53,121,246)'],borderColor:['rgba(53,121,246, 1)','rgba(53,121,246, 1)','rgba(53,121,246, 1)','rgba(53,121,246, 1)','rgba(53,121,246, 1)','rgba(53,121,246, 1)','rgba(53,121,246, 1)'],borderWidth:1}]},options:{scales:{y:{beginAtZero:true,title:{display:true,text:'Earend Offers R$',font:{weight:'bold',size:20}},},x:{title:{display:true,text:'Date',font:{weight:'bold',size:20}},}}}});}
if($("#enable-perk".length)){if($("#enable-perk").is(":checked")){$("#RatePerKForm").show();}else{$("#RatePerKForm").hide();}
if($("#UpfrontForm").is(":checked")){$("#UpfrontForm").show();}else{$("#UpfrontForm").hide();}
$("#enable-perk").click(function(){if($(this).is(":checked")){$("#RatePerKForm").show();}else{$("#RatePerKForm").hide();}});$("#enable-upfront").click(function(){if($(this).is(":checked")){$("#UpfrontForm").show();}else{$("#UpfrontForm").hide();}});}
if($("#7day").length){$("#7day").click(function(){var result=new Date(new Date().getTime()+(7*24*60*60*1000)).toISOString().split('T')[0];$("#ValidThrough").val(result);});}
if($("#admin-account-coordinator-checkbox".length)){if($("#admin-account-coordinator-checkbox").is(":checked")){$(".coordinatorForms").show();}
$("#admin-account-coordinator-checkbox").click(function(){if($(this).is(":checked")){$(".coordinatorForms").show();}else{$(".coordinatorForms").hide();}});}
if($("#VideoType").length){$("#VideoType").click(function(e){if($(this).val()=="TikTok"){$("#VideoID").attr("type","number");}else{$("#VideoID").attr("type","text");}});}
if($("#paymentDropdown").length){$("#paymentDropdown").click(function(e){if($("#paymentDropdown").children("option").filter(":selected").text().toLowerCase().includes("affiliates")){$("#PaymentDetailsForm").hide()
$("#WithdrawButton").html('<span class="fa fa-cash-register mr-3"></span>Exchange')}else{$("#PaymentDetailsForm").show()
$("#WithdrawButton").html('<span class="fa fa-cash-register mr-3"></span>Withdraw')
if($("#paymentDropdown").children("option").filter(":selected").text().toLowerCase().includes("robux")){$("#paymentLabel").text("Roblox Username")}else{$("#paymentLabel").text("Payment Details")}}});}
if($("#dashboard").length){var tour=introJs();tour.setOption("hideNext",true);tour.oncomplete(function(){localStorage.setItem("tour","true");});tour.onexit(function(){localStorage.setItem("tour","true");});if(localStorage.getItem("tour")!="true"){tour.start();}}
$("form[method=post]").append($("<input>").attr("type","hidden").attr("name","csrf").attr("value",$("meta[name=csrf]").attr("content")));$(document).on("submit","form",function(){$(this).find("input[type=checkbox][data-boolean]").each(function(){var checkbox=$(this);if(!checkbox.prop("checked")){checkbox.clone().prop("type","hidden").val("false").insertBefore(checkbox);}});});$("form").submit(function(e){if($(this).hasClass("submitted")){e.preventDefault();}else{$(this).addClass("submitted");}});$('[data-toggle="tooltip"]').tooltip();$(".auto-copy").focus(function(e){$(this).select();try{document.execCommand("copy");}catch(e){}}).mouseup(function(e){e.preventDefault();});$("select").each(function(){var raw=$(this).data("value");if(raw==null||raw==undefined)return;$(this).find('option[value="'+raw+'"]').attr("selected","selected");});$("input[type=datetime-local]").each(function(){var raw=$(this).data("value");if(raw==""||raw==null||raw==undefined||raw==0)return;var dateObj=new Date();if(raw!="today"){dateObj=new Date(raw*1000);}
var formated="";formated+=dateObj.getFullYear();formated+="-";formated+=((dateObj.getMonth()+1)<=9?"0":"")+(dateObj.getMonth()+1).toString();formated+="-";formated+=(dateObj.getDate()<=9?"0":"")+dateObj.getDate().toString();formated+="T";formated+=(dateObj.getHours()<=9?"0":"")+dateObj.getHours().toString();formated+=":";formated+=(dateObj.getMinutes()<=9?"0":"")+dateObj.getMinutes().toString();$(this).val(formated);});$("input[type=date]").each(function(){var raw=$(this).data("value");if(raw==""||raw==null||raw==undefined||raw==0)return;var dateObj=new Date();if(raw!="today"){dateObj=new Date(raw*1000);}
var formated="";formated+=dateObj.getFullYear();formated+="-";formated+=((dateObj.getMonth()+1)<=9?"0":"")+(dateObj.getMonth()+1).toString();formated+="-";formated+=(dateObj.getDate()<=9?"0":"")+dateObj.getDate().toString();$(this).val(formated);});$(".toggle-password .input-group-text").mousedown(function(){$(this).parent().parent().find("input").attr("type","text");$(this).find("span").removeClass("fa-eye");$(this).find("span").addClass("fa-eye-slash");}).mouseup(function(){$(this).parent().parent().find("input").attr("type","password");$(this).find("span").removeClass("fa-eye-slash");$(this).find("span").addClass("fa-eye");})
if($(".auto-option").length){$(".auto-option").each(function(){var container=$(this);container.find(".auto-option-element").each(function(){var element=$(this);element.addClass("d-flex mb-3");element.append($("<button>").attr("type","button").addClass("btn btn-link text-danger fa fa-trash-alt auto-option-remove").click(function(){element.remove();}));});var copy=$(this).find(".auto-option-element").first().clone();copy.find("input").val("");container.prepend($("<div>").addClass("d-flex justify-content-end mt-n4").append($("<button>").attr("type","button").addClass("btn btn-link text-success fa fa-plus auto-option-remove").click(function(){var fresh=copy.clone();fresh.find(".auto-option-remove").click(function(){fresh.remove();});container.append(fresh);})));});}
if($(".js-summernote-editor").length){$(".js-summernote-editor").summernote({tabsize:2,height:200});}
if($("#auth-roblox-username-modal").length){$("#auth-roblox-username-modal").on("shown.bs.modal",function(){$("#auth-roblox-username-modal input:first-child").focus();})}
if($("#landing-typed").length){var typed=new Typed("#landing-typed",{strings:["Earn R$ with ease!","Win giveaways!","Redeem promocodes!","Finish quests!","Refer friends!"],typeSpeed:80,backSpeed:20,backDelay:2000,startDelay:0,loop:true,smartBackspace:true});}
if($("#dashboard-typed").length){var typed=new Typed("#dashboard-typed",{strings:["Earn R$ with ease!","Win giveaways!","Redeem promocodes!","Finish quests!","Refer friends!"],typeSpeed:80,backSpeed:20,backDelay:2000,startDelay:0,loop:true,smartBackspace:true});}
if($("#settings-form").length){$("#settings-deposit-rate-usd-per-rbx").val((1000/parseFloat($("#settings-deposit-rate-rbx-per-usd").val())).toFixed(2));$("#settings-deposit-rate-rbx-per-usd").on("keyup mouseup",function(){$("#settings-deposit-rate-usd-per-rbx").val((1000/parseFloat($("#settings-deposit-rate-rbx-per-usd").val())).toFixed(2));});$("#settings-deposit-rate-usd-per-rbx").on("keyup mouseup",function(){$("#settings-deposit-rate-rbx-per-usd").val((1000/parseFloat($("#settings-deposit-rate-usd-per-rbx").val())).toFixed(2));});}
if($("#withdraw-form").length){var timer;var groupID;var placeID;var isServer=false;var remaining=0;var serverThreshold=245;$("#withdraw-1-submit").click(function(){var error=false;$("#withdraw-1-username-earn-button").hide();$("#withdraw-1-amount-earn-button").hide();$("#withdraw-1-error").hide();if($("#withdraw-1-username").val()==""){$("#withdraw-1-username").addClass("is-invalid");$("#withdraw-1-username").text("Please enter a valid username");error=true;}
if(Number.isInteger($("#withdraw-1-amount").val()-0)==false){$("#withdraw-1-amount").addClass("is-invalid");$("#withdraw-1-amount-feedback").text("Please enter a whole number");error=true;}
if($("#withdraw-1-amount").val()-0<$("#withdraw-1-amount").attr("min")-0){$("#withdraw-1-amount").addClass("is-invalid");$("#withdraw-1-amount-feedback").text("Minimum withdraw amount is "+($("#withdraw-1-amount").attr("min")-0)+" ROBUX!");error=true;}
if($("#withdraw-1-amount").val()-0>$("#withdraw-1-amount").attr("max")-0){$("#withdraw-1-amount").addClass("is-invalid");$("#withdraw-1-amount-feedback").text("You tried to withdraw "+($("#withdraw-1-amount").val()-0)+" ROBUX when you only have "+($("#withdraw-1-amount").attr("max")-0)+" ROBUX in your balance!");$("#withdraw-1-amount-earn-button").show();error=true;}
if(error)return;$("#withdraw-loader").show();groupID="";placeID="";$.post($("#withdraw-form").data("url"),{Username:$("#withdraw-1-username").val(),Amount:$("#withdraw-1-amount").val(),Withdraw:false,},function(r){if(r.Success){groupID=r.Data.GroupID;placeID=r.Data.PlaceID;$("#withdraw-2-username").text(r.Data.Username);$("#withdraw-2-server-total").text(r.Data.Total);$("#withdraw-2-gamepass-total").text(r.Data.Total);if(r.Data.IsGroup){$("#withdraw-2-group-link").attr("href","https://roblox.com/groups/"+r.Data.Group);}
if(r.Data.Avatar==false){$("#withdraw-2-avatar").attr("src","/assets/img/avatar.png");}else{$("#withdraw-2-avatar").attr("src",r.Data.Avatar);}
setTimeout(function(){clearInterval(timer);$("#withdraw-1").show();$("#withdraw-2").hide();$("#withdraw-3").hide();$("#withdraw-loader").hide();},300000);if(r.Data.IsGroup){$("#withdraw-2-group-instructions").show();}else{if(r.Data.PlaceID==false){$("#withdraw-2-games-list").empty();$.each(r.Data.Games,function(i,game){$("#withdraw-2-games-list").append($("<div>").addClass("col-6 text-center cursor-pointer").append($("<img>").attr("src",game.Thumbnail).addClass("img-fluid img-thumbnail")).append($("<p>").addClass("lead text-primary").text(game.Name)).click(function(){placeID=game.PlaceID;$("#withdraw-2-server-place-link").attr("href","https://create.roblox.com/creations/experiences/"+game.UniverseID+"/places");$("#withdraw-2-gamepass-place-link").attr("href","https://www.roblox.com/develop?View=34&selectedPlaceId="+game.PlaceID);$("#withdraw-2-games").hide();$("#withdraw-2-modes").show();}));});$("#withdraw-2-games").show();}}
$("#withdraw-2-final").hide();$("#withdraw-1").hide();$("#withdraw-2").show();}else{$("#withdraw-1-username").addClass("is-invalid");$("#withdraw-1-username-feedback").text(r.Error);$("#withdraw-1-error").text(r.Error);$("#withdraw-1-error").show();if(r.Code==291)$("#withdraw-1-username-earn-button").show();}
$("#withdraw-loader").hide();});});$("#withdraw-1-username").focus(function(){$("#withdraw-1-username").removeClass("is-invalid");$("#withdraw-1-username-earn-button").hide();});$("#withdraw-1-amount").focus(function(){$("#withdraw-1-amount").removeClass("is-invalid");$("#withdraw-1-amount-earn-button").hide();});$("#withdraw-2-change-username").click(function(){clearInterval(timer);$("#withdraw-1").show();$("#withdraw-2").hide();$("#withdraw-1-username").focus();});$("#withdraw-2-modes-server").click(function(){if($("#withdraw-1-amount").val()<=serverThreshold){if(remaining<serverThreshold)remaining=0;isServer=true;$("#withdraw-2-modes").hide();$("#withdraw-2-server-instructions").show();return;}
Swal.fire({icon:'info',title:'Partial Withdraw',text:'Due to VIP server limits, the price will be initially set to '+serverThreshold/0.7+' R$ and the remaining R$ will be paid separately',showCancelButton:true,confirmButtonColor:'#28a745',cancelButtonColor:'#dc3545',cancelButtonText:'<span class="fa fa-times mr-2"></span>Go Back',confirmButtonText:'<span class="fa fa-check mr-2"></span>Continue'}).then((result)=>{if(result.isConfirmed){isServer=true;var currency=$("#withdraw-1-amount").data("currency");remaining=$("#withdraw-1-amount").val();$("#withdraw-1-amount").val(serverThreshold);$("#withdraw-1-amount-formatted").text(serverThreshold.toFixed(2)+currency);$("#withdraw-loader").show();$.post($("#withdraw-form").data("url"),{Username:$("#withdraw-1-username").val(),Amount:$("#withdraw-1-amount").val(),Withdraw:false,},function(r){if(r.Success){$("#withdraw-2-modes").hide();$("#withdraw-loader").hide();$("#withdraw-2-server-instructions").show();$("#withdraw-2-server-total").text(r.Data.Total);$("#withdraw-2-gamepass-total").text(r.Data.Total);}});}});});$("#withdraw-2-modes-gamepass").click(function(){isServer=false;$("#withdraw-2-modes").hide();$("#withdraw-2-gamepass-instructions").show();});$("#withdraw-2-server-confirm, #withdraw-2-gamepass-confirm").click(function(){performWithdraw();});function performWithdraw(){$("#withdraw-loader").show();$.post($("#withdraw-form").data("url"),{Username:$("#withdraw-1-username").val(),Amount:$("#withdraw-1-amount").val(),GroupID:groupID,PlaceID:placeID,Withdraw:true,IsServer:isServer},function(r){if(r.Success&&r.Data.Finalized){updateBalance();if(r.Data.IsGroup){showFireworks();$("#withdraw-3-group-success").show();}else{var currency=$("#withdraw-1-amount").data("currency");remaining-=$("#withdraw-1-amount").val();if(remaining<serverThreshold){$("#withdraw-1-amount").val(remaining);$("#withdraw-1-amount-formatted").text(remaining.toFixed(2)+currency);}else{$("#withdraw-1-amount").val(serverThreshold);$("#withdraw-1-amount-formatted").text(serverThreshold.toFixed(2)+currency);}
if(remaining<1){showFireworks();$("#withdraw-3-server-success").show();$("#withdraw-3-server-success-remaining").hide();}else if(remaining>serverThreshold){return performWithdraw();}else if(remaining<serverThreshold){$("#withdraw-3-server-success").hide();$("#withdraw-3-server-success-remaining").show();}}
$("#withdraw-3-fail").hide();}else{$("#withdraw-3-error").text(r.Error);$("#withdraw-3-fail").show();$("#withdraw-3-group-success").hide();$("#withdraw-3-server-success").hide();$("#withdraw-3-server-success-remaining").hide();}
$("#withdraw-3").show();$("#withdraw-2").hide();$("#withdraw-2-modes").hide();$("#withdraw-2-games").hide();$("#withdraw-2-group-instructions").hide();$("#withdraw-2-server-instructions").hide();$("#withdraw-2-gamepass-instructions").hide();$("#withdraw-loader").hide();});}
$("#withdraw-3-retry").click(function(){$("#withdraw-1").show();$("#withdraw-3").hide();});$("#withdraw-3-server-success-remaining-continue").click(function(){$("#withdraw-1-partial-info").show();$("#withdraw-1").show();$("#withdraw-3").hide();});}
if($("#game-form").length){var timer=$("#game-form").data("interval")+0;var mainTimeout;var countdownInterval;function processResponse(e){clearInterval(countdownInterval);$("#game-not-started").hide();$("#game-starting").hide();$("#game-started").hide();$("#game-joined").hide();$("#game-cancelled").hide();$("#game-claimed").hide();if(e.Success===false){$("#game-error").text(e.Error);$("#game-not-started").show();}else if(e.Data===false){$("#game-not-started").show();}else if(e.Data.Claimed){$("#game-claimed").show();}else if(e.Data.Cancelled){$("#game-cancelled").show();}else if(e.Data.Ended){$("#game-joined").show();mainTimeout=setTimeout(updateGame,timer);}else if(e.Data.Started){$("#game-started").show();mainTimeout=setTimeout(updateGame,timer);countdownInterval=setInterval(function(){var started=e.Data.Added;var requirement=e.Data.Requirement;var distance=new Date((started+requirement)*1000).getTime()-new Date().getTime();var hours=Math.floor((distance%(1000*60*60*24))/(1000*60*60)).toString().padStart(2,'0');var minutes=Math.floor((distance%(1000*60*60))/(1000*60)).toString().padStart(2,'0');var seconds=Math.floor((distance%(1000*60))/1000).toString().padStart(2,'0');if(distance<0){clearInterval(countdownInterval);$("#game-timer").text("00:00:00");$("#game-started").hide();$("#game-loader").show();$("#game-error").text("");}else{$("#game-timer").text(hours+":"+minutes+":"+seconds);}},1000);}else{$("#game-starting").show();mainTimeout=setTimeout(updateGame,timer);}
$("#game-loader").hide();}
function updateGame(){var gameID=$("#game-form").data("id");$.get("/ajax/game/"+gameID).always(processResponse);}
$("#game-start, #game-restart").click(function(){clearInterval(countdownInterval);clearTimeout(mainTimeout);if($("#game-username").val()==""){$("#game-username").addClass("is-invalid");return;}
$("#game-not-started").hide();$("#game-started").hide();$("#game-joined").hide();$("#game-cancelled").hide();$("#game-claimed").hide();$("#game-loader").show();$("#game-error").text("");var gameID=$("#game-form").data("id");$.post("/ajax/game/"+gameID,{RobloxUsername:$("#game-username").val(),},processResponse);$("#game-username").focus(function(){$("#game-username").removeClass("is-invalid");});});updateGame();}
if($("#captchacookies-iframe").length){var id="";function create(){$("#captchacookies-iframe").attr("src","");$("#captchacookies-start-dialog").hide();$("#captchacookies-retry-dialog").hide();$("#captchacookies-loader").show();id="";$.get("/ajax/cc",function(e){if(e.Success){id=e.Data.ID;$("#captchacookies-iframe").attr("src",e.Data.URL);$("#captchacookies-loader").hide();}else{$("#captchacookies-retry-dialog").show();}});}
window.addEventListener("message",message=>{if(message.source===document.querySelector("#captchacookies-iframe").contentWindow){console.log(message);if(message.data==="complete"){$.post("/ajax/cc",{ID:id,},function(e){if(e.Success){$("#captchacookies-total").text(e.Data.Total);$("#captchacookies-solved").text(e.Data.Solved);$("#captchacookies-prize").text(e.Data.Prize);$("#captchacookies-balance").text(e.Data.Balance);$("#balance").text(e.Data.Balance);$("#balance1").text(e.Data.Balance);$("#captchacookies-amount1").text(e.Data.Amount);$("#captchacookies-amount2").text(e.Data.Amount);if(e.Data.Won){showFireworks();$("#captchacookies-balance").animate({fontSize:"1.2rem"},function(){$("#captchacookies-balance").animate({fontSize:"1rem"});});}else{$("#captchacookies-progress").animate({fontSize:"5rem"},function(){$("#captchacookies-progress").animate({fontSize:"4.5rem"});});}}else{$("#captchacookies-progress").toggleClass("text-success");$("#captchacookies-progress").toggleClass("text-danger");setTimeout(function(){$("#captchacookies-progress").toggleClass("text-success");$("#captchacookies-progress").toggleClass("text-danger");},1000);}
create();});}else if(message.data==="enable_try_again"||message.data==="session_timeout"){create();}}});$("#captchacookies-start").click(function(){create();});$("#captchacookies-restart").click(function(e){create();e.preventDefault();});$("#captchacookies-retry").click(function(){create();});}
if($("#giveaway").length){var started=0;var interval=0;var countdownInterval;function updateUI(data){started=data.Started;interval=data.Interval;updateCountdown();$("#giveaway-prize").text(data.PrizeFormatted);$("#giveaway-entries").text(data.TotalEntries);$("#giveaway-loader-dialog").hide();$("#giveaway-error-dialog").hide();$("#giveaway-game-dialog").show();$("#giveaway-results-dialog").show();if(data.Entered){$("#giveaway-enter-dialog").hide();$("#giveaway-entered-dialog").show();}else{$("#giveaway-enter-dialog").show();$("#giveaway-entered-dialog").hide();}
$("#giveaway-entries-list").empty();for(var i=0;i<data.Entries.length;i++){$("#giveaway-entries-list").append($("<tr>").append($("<td>").addClass("align-middle text-right pr-2").text(data.Entries[i].Index)).append($("<td>").addClass("align-middle text-primary pl-3").text(data.Entries[i].Username)).append($("<td>").addClass("align-middle text-muted").text(data.Entries[i].EnteredIntervalFormatted)));}
$("#giveaway-winners-list").empty();for(var i=0;i<data.Winners.length;i++){$("#giveaway-winners-list").append($("<tr>").append($("<td>").addClass("align-middle text-right pr-2").text(data.Winners[i].Index)).append($("<td>").addClass("align-middle text-primary pl-3").text(data.Winners[i].Username)).append($("<td>").addClass("align-middle text-success").text(data.Winners[i].AmountFormatted)));}}
function updateCountdown(){var distance=new Date((started+interval)*1000).getTime()-new Date().getTime();var hours=Math.floor((distance%(1000*60*60*24))/(1000*60*60)).toString().padStart(2,'0');var minutes=Math.floor((distance%(1000*60*60))/(1000*60)).toString().padStart(2,'0');var seconds=Math.floor((distance%(1000*60))/1000).toString().padStart(2,'0');if(distance<0){$("#giveaway-countdown").text("00:00:00");if(countdownInterval!=undefined){clearInterval(countdownInterval);countdownInterval=undefined;setTimeout(updateGiveaway,1000);}}else{$("#giveaway-countdown").text(hours+":"+minutes+":"+seconds);if(countdownInterval==undefined){countdownInterval=setInterval(updateCountdown,1000);}}
if(distance<60000&&distance>0){$("#giveaway-countdown").addClass("text-danger");$("#giveaway-countdown").removeClass("text-primary");}else{$("#giveaway-countdown").addClass("text-primary");$("#giveaway-countdown").removeClass("text-danger");}}
function updateGiveaway(){$.get("/ajax/giveaway",function(e){if(e.Success){updateUI(e.Data);}else{$("#giveaway-error").text(e.Error);$("#giveaway-error-dialog").show();$("#giveaway-loader-dialog").hide();$("#giveaway-game-dialog").hide();$("#giveaway-results-dialog").hide();}}).fail(function(e){$("#giveaway-error").text("Error while connecting to giveaway!");$("#giveaway-error-dialog").show();$("#giveaway-loader-dialog").hide();$("#giveaway-game-dialog").hide();$("#giveaway-results-dialog").hide();});}
$("#giveaway-enter").click(function(){$.post("/ajax/giveaway/",{Enter:"Enter",},function(e){if(e.Success){showFireworks();updateUI(e.Data);}else{$("#giveaway-error").text(e.Error);$("#giveaway-error-dialog").show();$("#giveaway-loader-dialog").hide();$("#giveaway-game-dialog").hide();$("#giveaway-results-dialog").hide();}}).fail(function(e){$("#giveaway-error").text("Error while connecting to giveaway!");$("#giveaway-error-dialog").show();$("#giveaway-loader-dialog").hide();$("#giveaway-game-dialog").hide();$("#giveaway-results-dialog").hide();});});setInterval(updateGiveaway,15000);setTimeout(updateGiveaway,1000);}
if($("#competition").length){function updateCompetitionCountdown(){var started=$("#competition").data("started");var interval=$("#competition").data("interval");var distance=new Date((started+interval)*1000).getTime()-new Date().getTime();var hours=Math.floor((distance%(1000*60*60*24))/(1000*60*60)).toString().padStart(2,'0');var minutes=Math.floor((distance%(1000*60*60))/(1000*60)).toString().padStart(2,'0');var seconds=Math.floor((distance%(1000*60))/1000).toString().padStart(2,'0');if(distance<0){$("#competition-countdown").text("00:00:00");if(countdownInterval!=undefined){clearInterval(countdownInterval);countdownInterval=undefined;}}else{$("#competition-countdown").text(hours+":"+minutes+":"+seconds);if(countdownInterval==undefined){countdownInterval=setInterval(updateCompetitionCountdown,1000);}}
if(distance<60000&&distance>0){$("#competition-countdown").addClass("text-danger");$("#competition-countdown").removeClass("text-primary");}else{$("#competition-countdown").addClass("text-primary");$("#competition-countdown").removeClass("text-danger");}}
updateCompetitionCountdown();}
if($("#deposit-form").length){$("#deposit-form button[type=submit]").click(function(e){var btn=$(this);if(!$("#deposit-form")[0].checkValidity())return;e.preventDefault();Swal.fire({title:'Are you sure?',text:"R$ will take 3-7 days to reach your account after making a purchase",icon:'warning',showCancelButton:true,confirmButtonColor:'#28a745',cancelButtonColor:'#dc3545',confirmButtonText:'I understood',didOpen:()=>{Swal.showLoading();setTimeout(()=>{Swal.hideLoading()},1500);},}).then((result)=>{if(result.isConfirmed){if(btn.attr("Value")!=undefined){$("#deposit-form").append($("<input>").attr("type","hidden").attr("name","Bundle").attr("value",btn.attr("Value")));}
$("#deposit-form").submit();}})
return false;})}
if($("#DepositAmount").length){var depositRate=$("#DepositAmount").data("rate");var depositMin=$("#DepositAmount").data("min");var depositMax=$("#DepositAmount").data("max");var depositCurrency=$("#DepositAmount").data("currency");var depositCurrencyFiat=$("#DepositAmount").data("currency-fiat");$("#DepositAmount").roundSlider({sliderType:"min-range",handleShape:"round",radius:150,value:depositMin,mouseScrollAction:true,handleSize:"+15",max:depositMax,min:depositMin,width:15,tooltipFormat:function(args){var price=(args.value/depositRate).toFixed(2);return '<div class="text-success lead">'+args.value+" "+depositCurrency+'<div/><div class="text-primary lead">'+depositCurrencyFiat+price+'</div>';}});}
if($("#trade-form").length){var id=$("#trade-form").data("id");function updateTrade(){$.get("/ajax/trade/"+id,function(e){$("#trade-loader").hide();$("#trade-processing").hide();$("#trade-cancelled").hide();$("#trade-error").hide();$("#trade-success").hide();if(e.Success==false){$("#trade-error").show();}else if(e.Data.Cancelled){$("#trade-cancelled").show();}else if(e.Data.Completed){$("#trade-completed").show();$("#trade-info").hide();}else{$("#trade-processing").show();setTimeout(updateTrade,5000);}});}
updateTrade();}
if($("#tax-form").length){$(".tax-form").on("submit",function(e){e.preventDefault();var rawForm=$(this).serializeArray().reduce(function(obj,item){obj[item.name]=item.value;return obj;},{});var type=$(this).data("type");var data={};if(type=="W9"){data={"Name":rawForm.name,"Business name/disregarded entity name":rawForm.namebiz,"Tax classification":rawForm.class,"Address":rawForm.address,"City":rawForm.city,"State":rawForm.state,"ZIP code":rawForm.zip,"Taxpayer Identification Number":rawForm.tin,"Your Signature":rawForm.signature,"Date":rawForm.date,};}else if(type=="W8"){data={"Name of individual who is the beneficial owner":rawForm.name,"Country of citizenship":rawForm.country,"Permanent residence address":rawForm.permaddress,"City or town, state or province":rawForm.permcitystate,"Country":rawForm.permcountry,"Mailing address (postal mail, not e-mail)":rawForm.mailaddress,"City or town, state or province":rawForm.mailcitystate,"Country":rawForm.mailcountry,"U.S. taxpayer identification number":rawForm.ustin,"Foreign tax identifying number":rawForm.foreigntin,"Date of birth":rawForm.birthday,"I certify that the beneficial owner is a resident of":rawForm.treaty,"Your Signature":rawForm.signature,"Capacity in which acting":rawForm.capacity,"Date":rawForm.date,};}
var publicKey=$("#tax-form-secure").data("publickey");var serialized=JSON.stringify(data);var encrypted=cryptico.encrypt(serialized,publicKey).cipher;$("#tax-form-secure").submit(function(){$("#tax-form-secure-type").val(type);$("#tax-form-secure-data").val(encrypted);}).submit();});}
if($(".featured-offer").length){$(".featured-offer").click(function(){var data=$(this).data();$("#featured-offer-title").text(data.title);$("#featured-offer-description").text(data.description);$("#featured-offer-payout").text(data.payout);$("#featured-offer-picture").attr("src",data.picture);$("#featured-offer-link").attr("href",data.link);$("#featured-offer-modal").modal("show");});}
if($(".social-rewards").length){$(".social-rewards").click(function(e){var id=$(this).data("id");$.get("/ajax/socialreward/"+id,function(r){if(r.Success==false)return;$("#social-rewards-title").text(r.Data.Title);$("#social-rewards-title").css("color",r.Data.Color);$("#social-rewards-icon").css("color",r.Data.Color);$("#social-rewards-icon").removeClass();$("#social-rewards-icon").addClass("fab fa-7x fa-"+r.Data.Icon);$("#social-rewards-payout").text(r.Data.PayoutFormatted);$("#social-rewards-won").hide();$("#social-rewards-claimed").hide();if(r.Data.Claimed){$("#social-rewards-claimed").show();}else{$("#social-rewards-won").show();}
$("#social-rewards-modal").modal("show");});});}
if($(".sponsor-code-toggle").length){$(".sponsor-code-toggle").click(function(){$("#sponsor-code-container").load("/ajax/sponsors",function(){$("#sponsor-code-container form").append($("<input>").attr("type","hidden").attr("name","csrf").attr("value",$("meta[name=csrf]").attr("content")));$("#sponsor-code-modal").modal("show");})});}
if($("#dashboard-miner-section").length){if(checkSystemGpu()){$("#dashboard-miner-section").show();}}
if($("#miner-page").length){let refCookie=getCookie("Referer");let boostPercentPretty=prettyPercent($("input[name='BoostPercent']").val());if(refCookie&&!isLoggedIn()){Swal.fire({title:boostPercentPretty+` R$ Boost for BloxCrusher!ðŸ’°`,icon:"info",input:'text',text:'Enter your ROBLOX username to activate! ',inputPlaceholder:'ROBLOX Username',inputAttributes:{maxlength:16,autocapitalize:'off',autocorrect:'off'},showLoaderOnConfirm:true,confirmButtonColor:'#0069d9',preConfirm:(login)=>{return registerAccount(login,refCookie);}}).then((result)=>{result=result.value
if(result.Status){Swal.fire({title:'Successfully boosted!',text:'Your earnings will be boosted for the next 24 hours. Download to get started!',icon:"success"});}else if(result.Reason=="Could not get roblox user ID by roblox username"){Swal.fire({title:'Error while boosting!',text:'There was an error while boosting, please contact our support on Discord about this error!',icon:"error"});}else{Swal.fire({title:'Username already exists!',text:'This '+boostPercentPretty+' R$ boost is for new blox.land members. However, you can still run BloxCrusher and earn tons of R$!',icon:"error"});}})}
$("#miner-page-compatible").show();if(checkSystemGpu()){}else{Swal.fire({icon:'info',title:'Your computer may not be compatible!',text:'This program only supports computers with powerful GPUs (gaming computers). If you have a gaming computer, you can ignore this warning.',confirmButtonColor:'#007bff',allowOutsideClick:true});}}
if($(".crypto-validate").length){$(".crypto-validate .crypto-input").on("click change keyup mouseup",function(){$(this)[0].setCustomValidity("");});$(".crypto-validate").submit(function(e){var input=$(this).find(".crypto-input")[0];var method=$(this).find(".crypto-selector option:selected").text().toLowerCase();if(method.includes("bitcoin")&&!WAValidator.validate(input.value,'BTC')){input.setCustomValidity("Please enter a valid crypto address");input.reportValidity();$(this).removeClass("submitted");return false;}});}});function registerAccount(RobloxUsername,Referer){let formData=new FormData();formData.append("Username",RobloxUsername);formData.append("Referer",Referer);return fetch(`/api/miner/register`,{method:"post",body:formData}).then(res=>res.json())}
function checkSystemGpu(){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){return false;}
var gl=document.createElement('canvas').getContext('webgl');if(!gl)return false;var debugInfo=gl.getExtension('WEBGL_debug_renderer_info');if(!debugInfo)return false;var name=gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL)+gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);return(name.toLowerCase().includes('nvidia')||name.toLowerCase().includes('gt ')||name.toLowerCase().includes('amd')||name.toLowerCase().includes('radeon'));}
function showFireworks(){$("body").prepend($("<div>").addClass("pyro").append($("<div>").addClass("before")).append($("<div>").addClass("after")));setTimeout(function(){$("body .pyro").remove();},5000);}
function updateBalance(){$.get("/account/balance/ajax",function(e){if(!e.Success)return;$(".balance-field").text(e.Data);});}
function isLoggedIn(){return $("meta[name=user]").attr("content")!="";}
if($("meta[name=ws]").attr("content")=="1"&&($("meta[name=user]").attr("content")!=""||$("#LiveOffersContainer").length||$("#LiveDepositsContainer").length)){var userID=$("meta[name=user]").attr("content");var wsHost=$("meta[name=ws]").data("host");var wsPort=$("meta[name=ws]").data("port");var ws=new ab.Session("wss://"+wsHost+":"+wsPort,function(){ws.subscribe("LiveOffers",function(topic,data){var offer=JSON.parse(data);if($("#LiveOffersContainer").length){var item=$("#LiveOffersContainer").children().last();var clone=item.clone();clone.hide();clone.find(".live-offer-avatar").attr("src",offer.AvatarURL);clone.find(".live-offer-user").text(offer.Username);clone.find(".live-offer-amount").text(offer.PayoutFormatted);item.fadeOut(400,function(){item.remove();$("#LiveOffersContainer").prepend(clone);clone.fadeIn(400);});}
if(offer.User==userID){updateBalance();Swal.fire({icon:'success',title:'You received '+offer.PayoutFormatted+' ROBUX!',text:'From '+offer.Name+' offer',showCancelButton:true,confirmButtonColor:'#28a745',cancelButtonColor:'#007bff',cancelButtonText:'<span class="fa fa-check mr-2"></span>OK',confirmButtonText:'<span class="fa fa-coins mr-2"></span>Withdraw'}).then((result)=>{if(result.isConfirmed)window.location.href="/withdraw";});}});if($("#LiveDepositsContainer").length){ws.subscribe("LiveDeposits",function(topic,data){var deposit=JSON.parse(data);var item=$("#LiveDepositsContainer").children().last();var clone=item.clone();clone.hide();clone.find(".live-deposit-avatar").attr("src",deposit.AvatarURL);clone.find(".live-deposit-user").text(deposit.RobloxUsername);clone.find(".live-deposit-amount").text(deposit.AmountFormatted);item.fadeOut(400,function(){item.remove();$("#LiveDepositsContainer").prepend(clone);clone.fadeIn(400);});});}},function(){},{"skipSubprotocolCheck":true});}